## Подключение к облаку

### Параметры 
Для успешной работы с облаком нужно знать параметры подключения к облаку. В случае с Cloud.Yandex это следующие парамметры (получить их можно либо в веб-интерфейсе, либо через консольную утилиту YC в случае, когда она уже настроена):
- токен
  - веб: инструкции по получению [есть на этой странице](https://cloud.yandex.ru/ru/docs/cli/quickstart);
  - консоль: `yc config get token`
- идентификатор облака
  - веб: в верху [основной страницы управления облаком](https://console.cloud.yandex.ru/cloud/)
  - консоль: `yc config get cloud-id`
- идентификатор каталога
  - веб: в списке каталогов [основной страницы управления облаком](https://console.cloud.yandex.ru/cloud/)
  - консоль: `yc config get folder-id`

### Скрипт

В папке `slurm-tf-final-project` есть вспомогательный скрипт, который получает из консольной утилиты эти значения и устанавливает их в качестве переменных окружения, откуда их подхватывают Packer и Terraform. Запускать его обязательно через точку или source (чтобы переменные окружения остались в текущем окружении):

    cd slurm-tf-final-project
    . set-env-variables.sh
    ---или---
    source set-env-variables.sh

Переменные, которые создает скрипт:

| Переменная | Описание |
| --- | --- |
| YC_TOKEN | Токен авторизации в Яндекс.Облаке. Будет использована провайдером, если переменная token не установлена. |
| YC_CLOUD_ID | Идентификатор личного облака. Будет использована провайдером, если переменная cloud_id не установлена. |
| YC_FOLDER_ID | Идентификатор каталога в облаке. Будет использована провайдером, если переменная folder_id не установлена. |
| TF_VAR_folder_id | Дубль индентификатора каталога для использования в переменных Terraform явным образом. |
| PKR_VAR_subnet_id | Идентификатор дефолтной подсети в зоне ru-central1-a для использования в переменных Packer |

*Переменные TF_VAR_ и PKR_VAR_ могут быть переопределены любым другим способом задания переменных, так как переменные из окружения имеют самый низкий приоритет (но должны присутствовать при наличии обращений к ним в конфигах).*
